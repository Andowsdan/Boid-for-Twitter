<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="com.teamboid.twitter" android:versionCode="37"
	android:versionName="0.8.1 Beta">
	<uses-sdk android:minSdkVersion="14" android:targetSdkVersion="15" />
	<uses-permission android:name="android.permission.CAMERA" />
	<uses-permission android:name="android.permission.INTERNET" />
	<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
	<uses-permission android:name="android.permission.VIBRATE" />
	<permission android:name="com.teamboid.twitter.permission.C2D_MESSAGE" android:protectionLevel="signature" />
	<uses-permission android:name="com.teamboid.twitter.permission.C2D_MESSAGE" />

	<!-- This app has permission to register and receive message -->
	<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
	
	<supports-screens android:xlargeScreens="true"
		android:anyDensity="true" android:resizeable="true"
		android:normalScreens="true" android:largeScreens="true"
		android:smallScreens="true" />
	<application android:icon="@drawable/launcher_icon"
		android:label="@string/app_name">
		<meta-data android:name="android.app.default_searchable"
			android:value=".SearchScreen" />
		<uses-library android:name="com.google.android.maps" />
		<provider android:name="SearchSuggestionsProvider"
			android:authorities="com.teamboid.twitter.SearchSuggestionsProvider" />
		<activity android:name=".TimelineScreen"
			android:configChanges="screenSize" android:launchMode="singleInstance"
			android:uiOptions="splitActionBarWhenNarrow"
			android:clearTaskOnLaunch="true">
			<intent-filter android:label="@string/app_name">
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.LAUNCHER" />
			</intent-filter>
			<intent-filter android:label="@string/app_name">
				<action android:name="android.intent.action.SEND" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:mimeType="text/*" />
				<data android:mimeType="image/*" />
			</intent-filter>
			
			<!-- View Tweets/Users from Browser/Other Apps -->
			<intent-filter android:label="@string/app_name">
				<action android:name="android.intent.action.VIEW" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="http" android:host="twitter.com" />
			</intent-filter>
			<intent-filter android:label="@string/app_name">
				<action android:name="android.intent.action.VIEW" />
				<category android:name="android.intent.category.DEFAULT" />
				<data android:scheme="https" android:host="twitter.com" />
			</intent-filter>
		</activity>
		<activity android:name=".AccountManager" android:label="@string/manage_accounts_str"
			android:launchMode="singleTask" android:configChanges="screenSize">
			<intent-filter android:label="@string/app_name">
				<action android:name="android.intent.action.VIEW" />
				<category android:name="android.intent.category.DEFAULT" />
				<category android:name="android.intent.category.BROWSABLE" />
				<data android:scheme="boid" android:host="auth" />
			</intent-filter>
		</activity>
		<service android:name=".AccountService" android:label="@string/account_service_name"
			android:description="@string/account_service_desc" android:icon="@drawable/launcher_icon" />
		<activity android:name=".SettingsScreen" android:label="@string/settings_str"
			android:configChanges="screenSize" />
		<activity android:name=".ComposerScreen" android:uiOptions="splitActionBarWhenNarrow"
			android:windowSoftInputMode="stateAlwaysVisible|adjustResize"
			android:exported="false" android:label="@string/new_tweet_str"
			android:configChanges="keyboardHidden|orientation|screenSize" />
		<activity android:name=".SearchScreen" android:label="@string/search_str"
			android:exported="true" android:configChanges="keyboardHidden|orientation|screenSize">
			<intent-filter>
				<action android:name="android.intent.action.SEARCH" />
			</intent-filter>
			<meta-data android:name="android.app.searchable"
				android:resource="@xml/search_config" />
		</activity>
		<activity android:name=".ProfileScreen" android:exported="true"
			android:configChanges="keyboardHidden|orientation|screenSize" />
		<activity android:name=".TweetViewer" android:exported="true"
			android:configChanges="keyboardHidden|orientation|screenSize"
			android:label="@string/tweet_str" android:uiOptions="splitActionBarWhenNarrow" />
		<activity android:name=".ConversationScreen"
			android:exported="true" android:configChanges="keyboardHidden|orientation|screenSize"
			android:label="@string/messaging_str" android:windowSoftInputMode="adjustResize" />
		<activity android:name=".MutingManager" android:launchMode="singleTask"
			android:configChanges="screenSize" android:label="@string/muting_str"
			android:windowSoftInputMode="adjustResize" />
		<activity android:name=".UserListActivity" android:noHistory="true"
			android:configChanges="keyboardHidden|orientation|screenSize" />
		<activity android:name=".TweetListActivity"
			android:noHistory="true" android:configChanges="keyboardHidden|orientation|screenSize" />
		<service android:name=".SendTweetService" android:exported="false"
		    android:permission="com.teamboid.twitter.permission.C2D_MESSAGE" />
		<activity android:theme="@android:style/Theme.Holo.Dialog"
			android:label="@string/photo_service_title" android:launchMode="singleTop"
			android:name=".SelectMediaScreen">
			<intent-filter>
				<action android:name="android.intent.action.VIEW" />
				<category android:name="android.intent.category.DEFAULT" />
				<category android:name="android.intent.category.BROWSABLE" />
				<data android:scheme="boid" android:host="finishconfig" />
			</intent-filter>
		</activity>

		<!-- Tweet Widget Services -->
		<service android:name=".tweetwidgets.TweetWidgetService">
			<intent-filter>
				<action android:name="com.teamboid.twitter.ACTION_TWEET_WIDGET" />
			</intent-filter>
		</service>
		<receiver android:name=".SendTweetStarter">
			<intent-filter>
				<action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
			</intent-filter>
		</receiver>

		<!-- Internal Tweet Widgets -->
		<service android:label="@string/youtube_embed" android:name=".YouTubeWidget">
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="youtu.be" android:scheme="http" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="youtube.com" android:pathPrefix="/watch" android:scheme="http" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="youtu.be" android:scheme="https" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="youtube.com" android:pathPrefix="/watch" android:scheme="https" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="www.youtu.be" android:scheme="http" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="www.youtube.com" android:pathPrefix="/watch" android:scheme="http" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="www.youtu.be" android:scheme="https" />
			</intent-filter>
			<intent-filter>
				<action android:name="com.android.ACTION_EMBED" />
				<data android:host="www.youtube.com" android:pathPrefix="/watch" android:scheme="https" />
			</intent-filter>
		</service>
		
		<service android:name=".PushReceiver$PushWorker" />
		<receiver android:name=".PushReceiver" android:permission="com.google.android.c2dm.permission.SEND">
	          <!-- Receive the actual message -->
	          <intent-filter>
	              <action android:name="com.google.android.c2dm.intent.RECEIVE" />
	              <category android:name="com.teamboid.twitter" />
	          </intent-filter>
	          <!-- Receive the registration id -->
	          <intent-filter>
	              <action android:name="com.google.android.c2dm.intent.REGISTRATION" />
	              <category android:name="com.teamboid.twitter" />
	          </intent-filter>
	      </receiver>
	</application>
</manifest>